<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geek String Sender</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hover.css/2.3.1/css/hover-min.css">
    <style>
        body {
            background-color: #101023; /* æ·±è“è‰²èƒŒæ™¯ */
            color: #ffffff; /* ç™½è‰²æ–‡æœ¬ */
            font-family: 'Courier New', Courier, monospace; /* ä»£ç é£æ ¼å­—ä½“ */
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden; /* ç¦æ­¢é¡µé¢æ»šåŠ¨ */
        }

        #robotHead {
            font-size: 48px;
            margin-bottom: 20px;
            animation: rotateHead 4s infinite linear; /* æ—‹è½¬åŠ¨ç”» */
            transform-style: preserve-3d; /* ä¿ç•™3Dæ•ˆæœ */
        }

        #inputString{
            padding: 15px;
            margin: 10px;
            border: 1px solid #0077cc; /* è“è‰²è¾¹æ¡† */
            background-color: #004080; /* æ·±è“è‰²èƒŒæ™¯ */
            color: #ffffff; /* ç™½è‰²æ–‡æœ¬ */
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Roboto', sans-serif;
            font-size: 18px;
            width: 300px;
            transition: background-color 0.3s ease-in-out;
        }
        
        
        #sendButton {
            padding: 15px;
            margin: 10px;
            border: 1px solid #0077cc; /* è“è‰²è¾¹æ¡† */
            background-color: #004080; /* æ·±è“è‰²èƒŒæ™¯ */
            color: #ffffff; /* ç™½è‰²æ–‡æœ¬ */
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Roboto', sans-serif;
            font-size: 18px;
            width: 100px;
            transition: background-color 0.3s ease-in-out;
        }

        #sendButton:hover {
            background-color: #0077cc; /* è“è‰²èƒŒæ™¯ï¼Œæ‚¬åœæ—¶ */
        }

        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1; /* å°†ç²’å­æ•ˆæœç½®äºèƒŒæ™¯ä¹‹å */
        }

      .success-message {
      position: fixed;
      top: 65%;
      left: 50%;
      transform: translateX(-50%);
      background-color: #4CAF50;
      color: #fff;
      padding: 15px;
      border-radius: 5px;
      display: none;
      z-index: 1000;
    }

    </style>
</head>
<body>

<div class="success-message" id="successMessage">
    å‘é€æˆåŠŸï¼
</div>

    <div id="particles-js"></div> <!-- ç²’å­æ•ˆæœå®¹å™¨ -->
    <span id="robotHead" class="animate__animated animate__bounceIn">ğŸ¤–</span> <!-- æœºå™¨äººå›¾æ ‡ -->
    <input type="text" id="inputString" placeholder="Enter your string" class="hvr-fade" onkeydown="handleKeyPress(event)">
    <button id="sendButton" onclick="sendString()" class="hvr-fade">Send</button>


    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        function handleKeyPress(event) {
        // æ£€æŸ¥æŒ‰ä¸‹çš„é”®æ˜¯å¦æ˜¯å›è½¦é”®
        if (event.key === "Enter") {
          sendString();
          //showSuccessMessage();
        }
      }
              particlesJS('particles-js', {
                  particles: {
                      number: { value: 80, density: { enable: true, value_area: 800 } },
                      color: { value: '#ffffff' },
                      shape: { type: 'circle', stroke: { width: 0, color: '#000000' }, polygon: { nb_sides: 5 }, image: { src: 'img/github.svg', width: 100, height: 100 } },
                      opacity: { value: 0.5, random: true, anim: { enable: false, speed: 1, opacity_min: 0.1, sync: false } },
                      size: { value: 3, random: true, anim: { enable: false, speed: 40, size_min: 0.1, sync: false } },
                      line_linked: { enable: true, distance: 150, color: '#ffffff', opacity: 0.4, width: 1 },
                      move: { enable: true, speed: 1, direction: 'none', random: false, straight: false, out_mode: 'out', bounce: false, attract: { enable: false, rotateX: 600, rotateY: 1200 } }
                  },
                  interactivity: {
                      detect_on: 'canvas',
                      events: { onhover: { enable: true, mode: 'grab' }, onclick: { enable: true, mode: 'push' }, resize: true },
                      modes: { grab: { distance: 140, line_linked: { opacity: 1 } }, bubble: { distance: 400, size: 40, duration: 2, opacity: 8, speed: 3 }, repulse: { distance: 200, duration: 0.4 }, push: { particles_nb: 4 }, remove: { particles_nb: 2 } }
                  }
              });
              function sendString() {
                  var inputElement = document.getElementById("inputString");
                  var inputString = inputElement.value;

                  // ä½¿ç”¨XMLHttpRequestæˆ–Fetch APIå°†å­—ç¬¦ä¸²å‘é€åˆ°æœåŠ¡å™¨
                  // è¯·æ ¹æ®æ‚¨çš„æœåŠ¡å™¨ç«¯å®ç°è¿›è¡Œç›¸åº”çš„ä¿®æ”¹
                  // ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨Fetch API
                  fetch('/sendString', {
                      method: 'POST',
                      headers: {
                          'Content-Type': 'application/json',
                      },
                      body: JSON.stringify({ receivedString: inputString }),
                  })
                  .then(response => response.json())
                  .then(data => console.log(data))
                  //.catch(error => console.error('Error:', error));
                  showSuccessMessage();
              }

      function showSuccessMessage() {
        // æ˜¾ç¤ºæˆåŠŸæç¤ºæ¡†
        var successMessage = document.getElementById('successMessage');
        successMessage.style.display = 'block';

        // åœ¨ 2000 æ¯«ç§’ï¼ˆ2ç§’ï¼‰åéšè—æˆåŠŸæç¤ºæ¡†
        setTimeout(function() {
          successMessage.style.display = 'none';
        }, 2000);
      }



    </script>
</body>
</html>
